<!DOCTYPE html>
<html lang="kor">

<head>
    <meta charset="UTF-8">
    <title>PRISM</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/moonspam/NanumSquare@1.0/nanumsquare.css" />

    <script type="module">
        // Firebase SDK ë¼ì´ë¸ŒëŸ¬ë¦¬ ê°€ì ¸ì˜¤ê¸°
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
        import { getFirestore } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
        import { collection, addDoc, serverTimestamp, query, orderBy, doc, updateDoc, deleteDoc } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
        import { getDocs } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";

        // Firebase êµ¬ì„± ì •ë³´ ì„¤ì •. JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyA-m6D6FvQXAUcTMeNwXSqQjCFn9T9N3C0",
            authDomain: "sparta-ce992.firebaseapp.com",
            projectId: "sparta-ce992",
            storageBucket: "sparta-ce992.firebasestorage.app",
            messagingSenderId: "215849547825",
            appId: "1:215849547825:web:8b967e108e738d1d10bd10",
            measurementId: "G-7J07E75R0B"
        }

        // Firebase ì¸ìŠ¤í„´ìŠ¤ ì´ˆê¸°í™”
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);


        // ì…ë ¥ ìš”ì†Œ ì„ íƒ
        const nameInput = document.querySelector("#name");
        const contentInput = document.querySelector("textarea");
        const createBtn = document.querySelector(".create");

        // ëŒ“ê¸€ ë“±ë¡ ê¸°ëŠ¥
        createBtn.addEventListener("click", async () => {
            const name = nameInput.value.trim();
            const content = contentInput.value.trim();

            if (!name || !content) {
                alert("ì´ë¦„ê³¼ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”.");
                return;
            }

            try {
                await addDoc(collection(db, "comments"), {
                    name,
                    content,
                    createdAt: new Date()
                });

                alert("ëŒ“ê¸€ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤!");
                location.reload();  // í™”ë©´ ìƒˆë¡œê³ ì¹¨
            } catch (error) {
                console.error("ëŒ“ê¸€ ë“±ë¡ ì‹¤íŒ¨:", error);
                alert("ëŒ“ê¸€ ë“±ë¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");
            }
        });

        // ğŸ”¹ ëŒ“ê¸€ ë¶ˆëŸ¬ì˜¤ê¸°(Read)
        async function loadComments() {
            showing.innerHTML = ""; // ê¸°ì¡´ ëŒ“ê¸€ ì´ˆê¸°í™”

            const commentsCol = collection(db, "comments");
            const commentsQuery = query(commentsCol, orderBy("createdAt", "desc"));
            const querySnapshot = await getDocs(commentsQuery);

            querySnapshot.forEach(docSnap => {
                const data = docSnap.data();
                const commentBox = document.createElement("div");
                commentBox.classList.add("comment_box");

                commentBox.innerHTML = `
      <div class="comment_item">
        <p class="name">${data.name}</p>
        <em class="date">${data.createdAt.toDate().toLocaleString()}</em>
        <p class="content">${data.content}</p>
      </div>
      <div class="button">
        <button class="modify" type="button">ìˆ˜ì •</button>
        <button class="delete" type="button">ì‚­ì œ</button>
      </div>
    `;

                showing.appendChild(commentBox);
            });
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ëŒ“ê¸€ ë¶ˆëŸ¬ì˜¤ê¸°
        loadComments();


    </script>
</head>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
<link rel="icon" type="image/png" sizes="64x64" href="res/prism_favicon_64.png">
<link rel="stylesheet" href="res/reset.css">
<style>
    @import url('https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap');

    * {
        font-family: "Gowun Dodum", sans-serif;
        font-weight: 400;
        font-style: normal;
    }
</style>
<style>
    body {
        background-color: #111;
        color: #fff;
        font-family: 'NanumSquareRound', 'NanumSquare', 'Noto Sans KR', sans-serif, 'Poppins', 'Helvetica Neue', Helvetica, Arial, sans-serif;
        font-size: 15px;
    }

    p {
        margin: 0;
    }

    .passion {
        background-color: #c3220f;
        /* í†¤ ë‹¤ìš´ ë ˆë“œ â†’ ëœ¨ê²ì§€ë§Œ ì°¨ë¶„í•œ ì—´ì • */
    }

    .responsibility {
        background-color: #116b9f;
        /* ì²­ëŸ‰í•˜ë©´ì„œ ê¹Šì€ ë¸”ë£¨ â†’ ì±…ì„ê°, ì‹ ë¢° */
    }

    .innovation {
        background-color: #ffc71f;
        /* ì˜¤ë Œì§€ í†¤ ë‹¤ìš´ â†’ ì°½ì˜ì„±, ì—ë„ˆì§€ */
    }

    .synergy {
        background-color: #57c714;
        /* ì˜¬ë¦¬ë¸Œ ê·¸ë¦° â†’ ì¡°í™”, ê· í˜•, ì„±ì¥ */
    }

    .mastery {
        background-color: #492aa1;
        /* ë‹¤í¬ í¼í”Œ â†’ ì „ë¬¸ì„±, ê¹Šì´, ì¥ì¸ì •ì‹  */
    }

    section {
        margin-bottom: 50px;
    }

    .main_box {
        width: 900px;
        margin: 0 auto;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: row;
        flex-wrap: wrap;
        flex-flow: wrap-reverse;
        gap: 50px;
    }

    .main_box .box_item {
        width: 250px;
        text-align: center;
        color: #fff;
    }

    .main_box .box_item .circle {
        width: 250px;
        height: 250px;
        border-radius: 50%;
        overflow: hidden;
        position: relative;

        /* ì•ˆìª½ ê·¸ë¦¼ìì™€ ë°”ê¹¥ ê·¸ë¦¼ì ëª¨ë‘ */
    }

    .main_box .box_item .circle.mastery {
        box-shadow: inset -8px -8px 15px rgba(255, 255, 255, 0.3),
            inset 8px 8px 20px rgba(0, 0, 0, 0.5),
            0 8px 20px rgba(73, 42, 161, 1);
    }

    .main_box .box_item .circle.synergy {
        box-shadow: inset -8px -8px 15px rgba(255, 255, 255, 0.3),
            inset 8px 8px 20px rgba(0, 0, 0, 0.5),
            0 8px 20px rgba(87, 199, 20, 1);
    }

    .main_box .box_item .circle.passion {
        box-shadow: inset -8px -8px 15px rgba(255, 255, 255, 0.3),
            inset 8px 8px 20px rgba(0, 0, 0, 0.5),
            0 8px 20px rgba(195, 34, 15, 1);
    }

    .main_box .box_item .circle.responsibility {
        box-shadow: inset -8px -8px 15px rgba(255, 255, 255, 0.3),
            inset 8px 8px 20px rgba(0, 0, 0, 0.5),
            0 8px 20px rgba(17, 107, 159, 1);
    }

    .main_box .box_item .circle.innovation {
        box-shadow: inset -8px -8px 15px rgba(255, 255, 255, 0.3),
            inset 8px 8px 20px rgba(0, 0, 0, 0.5),
            0 8px 20px rgba(255, 199, 31, 1);
    }

    .main_box .box_item .circle img {
        opacity: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .main_box .box_item .circle:hover {
        cursor: pointer;
    }

    .main_box .box_item .circle:hover img {
        transition: all 0.5s ease-in-out;
        opacity: 1;
    }

    /* ìœ—ë¶€ë¶„ í•˜ì´ë¼ì´íŠ¸ (ìœ ë¦¬ ë°˜ì§ì„) */
    .main_box .box_item .circle:hover::before,
    .main_box .box_item .circle:hover::after {
        content: none;
        transition: none;
    }

    .main_box .box_item .circle::before {
        content: "";
        position: absolute;
        top: 10px;
        left: 15px;
        width: 60%;
        height: 35%;
        border-radius: 50%;
        background: radial-gradient(circle at top left,
                rgba(255, 255, 255, 0.7),
                rgba(255, 255, 255, 0.2) 70%,
                transparent 100%);
        filter: blur(4px);
        pointer-events: none;
    }

    /* ì•„ë«ë¶€ë¶„ ë°˜ì‚¬ê´‘ */
    .main_box .box_item .circle::after {
        content: "";
        position: absolute;
        bottom: 20px;
        right: 20px;
        width: 30%;
        height: 20%;
        border-radius: 50%;
        background: radial-gradient(circle at bottom right,
                rgba(255, 255, 255, 0.3),
                transparent 80%);
        filter: blur(3px);
        pointer-events: none;
    }

    .box_item .name {
        margin-top: 20px;
        font-size: 20px;
        font-weight: 600;
    }

    .box_item .symbol {
        font-family: Helvetica, Arial, sans-serif;
        font-size: 20px;
    }

    header .logo {
        width: 100%;
        height: auto;
    }

    header .logo img {
        width: 25%;
        display: block;
        height: auto;
        margin: 0 auto;
    }
</style>

<body>
    <header>
        <div class="logo">
            <img src="res/logo.png" alt="">
        </div>
    </header>
    <section>
        <div class="main_box">
            <a href="member/seejin.html" class="box_item">
                <div class="symbol">
                    passion
                </div>
                <div class="circle passion">
                    <img src="https://img.notionusercontent.com/s3/prod-files-secure%2F83c75a39-3aba-4ba4-a792-7aefe4b07895%2Fcf5fa64a-9286-4de4-934b-b35895209c0a%2FKakaoTalk_20250929_095016250.jpg/size/w=2000?exp=1759316321&sig=p4UZFVYHxgKZzucMZ8cBiAxvz897dfawZBAxGegwgCc&id=27e2dc3e-f514-80de-8ecf-dcef79ef2c05&table=block&userId=d4dfa77e-a5bd-4327-ac3e-f0d19a8ba145"
                        alt="">
                </div>
                <p class="name">ì´ì„¸ì§„</p>
            </a>
            <a href="member/minyung.html" class="box_item">
                <div class="symbol">
                    responsibility
                </div>
                <div class="circle responsibility">
                    <img src="res/minyung.png" alt="">
                </div>
                <p class="name">ì›ë¯¼ì˜</p>
            </a>
            <a href="member/junbeum.html" class="box_item">
                <div class="symbol">
                    innovation
                </div>
                <div class="circle innovation">
                    <img src="res/junbeum.png" alt="">
                </div>
                <p class="name">ì´ì¤€ë²”</p>
            </a>
            <a href="member/jungyoon/jungyoon.html" class="box_item">
                <div class="symbol">
                    synergy
                </div>
                <div class="circle synergy">
                    <img src="res/cjy - img/selfie1.png" alt="">
                </div>
                <p class="name">ìµœì •ìœ¤</p>
            </a>
            <a href="member/hoyoun.html" class="box_item">
                <div class="symbol">
                    mastery
                </div>
                <div class="circle mastery">
                    <img src="res/shy_asset/mpch.jpg" alt="">
                </div>
                <p class="name">ì‹ í˜¸ìœ¤</p>
            </a>
        </div>
    </section>


    <div class="comments">
        <div class="inputs">
            <div class="inputBox">
                <em>ì´ë¦„ : </em>
                <input type="text" name="name" id="name" placeholder="ì´ë¦„">
            </div>
            <div class="inputBox">
                <em>ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš” </em>
                <textarea name="content" id=""></textarea>
            </div>
            <button type="button" class="create">ì‘ì„±</button>
        </div>

        <div class="showing">

            <div class="comment_box">
                <div class="comment_item">
                    <p class="name">ì‘ì„±ì</p>
                    <em class="date">2025-10-02</em>
                    <p class="content">ëŒ“ê¸€ ë‚´ìš©</p>
                </div>
                <div class="button">
                    <button class="modify" type="button">ìˆ˜ì •</button>
                    <button class="delete" type="button">ì‚­ì œ</button>
                </div>
            </div>

            <div class="comment_box">
                <div class="comment_item">
                    <p class="name">ì‘ì„±ì</p>
                    <em class="date">2025-10-02</em>
                    <p class="content">ëŒ“ê¸€ ë‚´ìš©ëŒ“ê¸€ ë‚´ìš©ëŒ“ê¸€ ë‚´ìš©ëŒ“ê¸€ ë‚´ìš©ëŒ“ê¸€ ë‚´ìš©ëŒ“ê¸€ ë‚´ìš©ëŒ“ê¸€ ë‚´ìš©ëŒ“ê¸€ ë‚´ìš©ëŒ“ê¸€ ë‚´ìš©ëŒ“ê¸€ ë‚´ìš©ëŒ“ê¸€ ë‚´ìš©ëŒ“ê¸€ ë‚´ìš©ëŒ“ê¸€ ë‚´ìš©ëŒ“ê¸€ ë‚´ìš©ëŒ“ê¸€ ë‚´ìš©ëŒ“ê¸€
                        ë‚´ìš©ëŒ“ê¸€ ë‚´ìš©ëŒ“ê¸€ ë‚´ìš©ëŒ“ê¸€ ë‚´ìš©ëŒ“ê¸€ ë‚´ìš©ëŒ“ê¸€ ë‚´ìš©ëŒ“ê¸€ ë‚´ìš©ëŒ“ê¸€ ë‚´ìš©ëŒ“ê¸€ ë‚´ìš©</p>
                </div>
                <div class="button">
                    <button class="modify" type="button">ìˆ˜ì •</button>
                    <button class="delete" type="button">ì‚­ì œ</button>
                </div>
            </div>

            <div class="comment_box">
                <div class="comment_item">
                    <p class="name">ì‘ì„±ì</p>
                    <em class="date">2025-10-02</em>
                    <p class="content">ëŒ“ê¸€ ë‚´ìš©</p>
                </div>
                <div class="button">
                    <button class="modify" type="button">ìˆ˜ì •</button>
                    <button class="delete" type="button">ì‚­ì œ</button>
                </div>
            </div>

        </div>
    </div>
</body>

<style>
    .comments {
        width: 900px;
        height: auto;
        margin: 0 auto;
    }

    .comments .inputs {
        width: 100%;
        height: auto;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        align-items: flex-start;
        gap: 10px;
        margin-bottom: 20px;
        color: #000;
    }

    .comments .inputs input,
    textarea {
        color: #111;
    }

    .comments .inputs .inputBox {
        width: 100%;
        color: #fff;
    }

    .comments .inputs textarea {
        width: 100%;
        height: 100px;
        resize: none;
        border: 1px solid #ccc;
        border-radius: 5px;
        padding: 10px;
        font-size: 14px;
        overflow: hidden;

    }

    .comments .inputs button {
        width: 100px;
        height: 40px;
        border: none;
        border-radius: 5px;
        background-color: #116b9f;
        color: #fff;
    }

    .showing {
        width: 100%;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        align-items: flex-start;
        gap: 10px;
    }

    .showing .comment_box {
        width: 100%;
        height: auto;
        background-color: #222;
        border-radius: 5px;
        padding: 10px;
        display: flex;
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
        gap: 100px;
        padding: 20px;
    }

    .showing .comment_box .comment_item {
        width: 70%;
        height: auto;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        align-items: flex-start;
        gap: 10px;
    }

    .showing .comment_box .button {
        width: 25%;
        min-width: 130px;
        display: flex;
        flex-direction: row;
        justify-content: flex-end;
        align-items: center;
    }

    .showing .comment_box .button button {
        min-width: 60px;
        height: 30px;
        border: none;
        border-radius: 5px;
        background-color: #116b9f;
        color: #fff;
        margin-left: 10px;
    }
</style>

<script>
    document.querySelectorAll(".symbol").forEach((el) => {
        el.innerText.toUpperCase();
        el.innerText = el.innerText.toUpperCase();
    });

</script>


</html>